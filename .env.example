# A2A Settlement Mediator — Environment Configuration
# Copy to .env and fill in your values.

# --- Exchange connection ---
A2A_EXCHANGE_URL=http://127.0.0.1:3000/v1
A2A_OPERATOR_API_KEY=ate_your_operator_api_key_here

# --- LLM provider (via LiteLLM) ---
# Supports: anthropic/claude-sonnet-4-20250514, openai/gpt-4o, etc.
# See: https://docs.litellm.ai/docs/providers
MEDIATOR_LLM_MODEL=anthropic/claude-sonnet-4-20250514
MEDIATOR_LLM_TEMPERATURE=0.1
MEDIATOR_LLM_MAX_TOKENS=4096

# LLM provider API keys (set the one matching your model)
ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...

# --- Mediation policy ---
# Confidence threshold (0.0–1.0). Below this → escalate to human.
MEDIATOR_AUTO_RESOLVE_THRESHOLD=0.80
# Max seconds to wait for LLM response.
MEDIATOR_LLM_TIMEOUT=30
# Log full LLM prompts and responses.
MEDIATOR_AUDIT_LOG=true

# --- Webhook listener ---
MEDIATOR_HOST=127.0.0.1
MEDIATOR_PORT=3100
# Secret from exchange webhook registration (for signature verification).
MEDIATOR_WEBHOOK_SECRET=

# --- Escalation ---
# Slack incoming webhook URL for low-confidence escalation notices.
MEDIATOR_ESCALATION_WEBHOOK_URL=

# --- SEC 17a-4 WORM Settlement Pipeline ---
# RFC 3161 Time Stamp Authority URL.
MEDIATOR_TSA_URL=http://freetsa.org/tsr
# Max seconds to wait for TSA response before hard-failing the settlement.
MEDIATOR_TSA_TIMEOUT=15
